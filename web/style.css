:root{
  --bg:#0b0f14; --bg-2:#0f1722; --line:#1f2a37; --text:#e6f0ff; --muted:#9fb3c8;
  --brand:#7c3aed; --brand-2:#06b6d4; --win:#22c55e; --danger:#ef4444; --gold:#f59e0b;
  --shadow:0 20px 60px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);
  background: radial-gradient(1200px 800px at 10% 10%, #0b1430 0%, #0b0f14 60%),
             radial-gradient(1000px 800px at 90% 10%, rgba(6,182,212,.12), transparent 60%),
             radial-gradient(900px 700px at 50% 100%, rgba(124,58,237,.12), transparent 60%),
             #0b0f14;
  overflow-x:hidden;
}
.stars{position:fixed; inset:0; pointer-events:none; background-image:radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.12) 50%, transparent 52%),
  radial-gradient(1.5px 1.5px at 70% 60%, rgba(255,255,255,.09) 50%, transparent 52%),
  radial-gradient(1.2px 1.2px at 40% 80%, rgba(255,255,255,.07) 50%, transparent 52%);
  animation: twinkle 6s linear infinite}
@keyframes twinkle{50%{opacity:.7}}
.app{max-width:1200px; margin: clamp(12px,3vw,28px) auto; padding: 16px}
header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px}
.brand{display:flex; align-items:center; gap:12px; padding:10px 14px; border:1px solid rgba(124,58,237,.35); border-radius:14px; background:linear-gradient(135deg, rgba(124,58,237,.12), rgba(6,182,212,.08)); box-shadow: var(--shadow)}
.brand .logo{width:38px; height:38px; border-radius:10px; background:conic-gradient(from 0deg, var(--brand), var(--brand-2), var(--brand)); filter:brightness(1.2)}
.brand h1{margin:0; font-size:18px; letter-spacing:.3px}
.badge-demo{font-size:12px; color:#0b0f14; background:linear-gradient(90deg, var(--gold), #ffd859); padding:.3rem .6rem; border-radius:999px; font-weight:700}
.grid{display:grid; grid-template-columns: 360px 1fr 320px; gap:16px}
@media (max-width:1100px){ .grid{grid-template-columns: 1fr} }
.panel{background:linear-gradient(180deg, rgba(18,24,33,.9), rgba(11,15,20,.9)); border:1px solid var(--line); border-radius:20px; padding:16px; box-shadow:var(--shadow)}
.panel h2{margin:0 0 8px; font-size:16px; color:#cfe1ff; letter-spacing:.3px}
.balance{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 12px; border:1px solid #1e293b; border-radius:14px; background:linear-gradient(180deg, rgba(20,28,40,.95), rgba(16,22,31,.9));}
.balance .val{font-size:22px; font-weight:800}
.chip{font-size:12px; color:var(--muted)}
.bet-box{ margin-top:12px; display:grid; gap:10px }
.field{display:grid; gap:6px}
.label{font-size:12px; color:var(--muted)}
.input-wrap{display:flex; align-items:center; gap:8px; padding:10px; border:1px solid #1e293b; border-radius:14px; background:linear-gradient(180deg, rgba(22,30,43,.95), rgba(16,22,31,.9));}
.input-wrap input[type="number"]{flex:1; background:transparent; border:0; outline:0; color:var(--text); font-size:16px}
.btn-mini{padding:8px 10px; border:1px solid #2a3649; background:#0f1722; color:#cfe1ff; border-radius:10px; cursor:pointer; transition:transform .06s ease, filter .2s}
.btn-mini:active{transform:scale(.96)}
.slider{appearance:none; height:10px; border-radius:999px; background:linear-gradient(90deg, var(--brand), var(--brand-2)); outline:none}
.slider::-webkit-slider-thumb{appearance:none; width:18px; height:18px; border-radius:50%; background:#fff; border:3px solid #0ea5b6; box-shadow:0 0 0 6px rgba(6,182,212,.2)}
.actions{display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:10px}
.btn{padding:14px 16px; border-radius:14px; border:1px solid #243041; background:linear-gradient(180deg, rgba(30,41,59,1), rgba(12,18,27,1)); color:#e6f0ff; cursor:pointer; font-weight:800; letter-spacing:.5px; text-transform:uppercase; box-shadow: var(--shadow); position:relative; overflow:hidden; transition: transform .08s ease, filter .2s, border-color .2s}
.btn:hover{filter:brightness(1.1); border-color:#2e3e55}
.btn:active{transform: translateY(1px)}
.btn-brand{ background:linear-gradient(90deg, rgba(124,58,237,.95), rgba(6,182,212,.95)); border-color:transparent }
.btn-win{ background:linear-gradient(90deg, rgba(34,197,94,.95), rgba(6,182,212,.95)); border-color:transparent }
.btn-danger{ background:linear-gradient(90deg, rgba(239,68,68,.95), rgba(244,63,94,.95)); border-color:transparent }
.btn[disabled]{opacity:.6; cursor:not-allowed; filter:grayscale(.4)}
.ripple{position:absolute; border-radius:50%; transform: translate(-50%, -50%); pointer-events:none; width:6px; height:6px; background:rgba(255,255,255,.8); animation: ripple .6s ease-out}
@keyframes ripple{ from{opacity:.7; transform:translate(-50%, -50%) scale(1);} to{opacity:0; transform:translate(-50%, -50%) scale(30);} }
.game{position:relative; background:linear-gradient(180deg, rgba(8,13,20,.9), rgba(7,10,15,.96)); border:1px solid var(--line); border-radius:20px; padding:16px; overflow:hidden; box-shadow:var(--shadow)}
.sky{position:relative; height:340px; border-radius:14px; background:linear-gradient(180deg, rgba(19,27,39,.85), rgba(14,20,28,.85)); overflow:hidden}
.horizon{position:absolute; left:0; right:0; bottom:0; height:3px; background:linear-gradient(90deg, rgba(124,58,237,.8), rgba(6,182,212,.8)); box-shadow:0 0 20px rgba(124,58,237,.6)}
.plane{position:absolute; left:20px; bottom:60px; width:66px; height:42px; transform-origin:center; filter: drop-shadow(0 8px 14px rgba(0,0,0,.35));}
.flame{position:absolute; left:-8px; top:16px; width:18px; height:8px; border-radius:8px; background: radial-gradient(circle at 30% 50%, #fff, #ffd04d 35%, #ff7849 60%, transparent 70%); filter: blur(1px) brightness(1.2); animation: flame .2s infinite alternate}
@keyframes flame{ from{ transform:scaleX(1) } to{ transform: scaleX(1.2) }}
.multiplier{position:absolute; top:16px; left:16px; font-weight:900; letter-spacing:.5px; font-size: clamp(28px, 7vw, 58px); text-shadow:0 6px 28px rgba(124,58,237,.35), 0 0 60px rgba(6,182,212,.25)}
.multiplier small{font-weight:600; font-size:.35em; color:#9fb3c8}
.status{position:absolute; top:16px; right:16px; font-size:13px; color:#0b0f14; font-weight:900; background:linear-gradient(90deg, var(--brand), var(--brand-2)); padding:.4rem .7rem; border-radius:999px; letter-spacing:.6px; text-transform:uppercase}
.status.crashed{background:linear-gradient(90deg, var(--danger), #fb7185)}
.status.ready{background:linear-gradient(90deg, #64748b, #94a3b8)}
.pop{position:absolute; pointer-events:none; font-weight:900; color:var(--win); text-shadow:0 0 18px rgba(34,197,94,.5)}
canvas#fx{position:absolute; inset:0; pointer-events:none}
.history{margin-top:14px; display:flex; gap:8px; flex-wrap:wrap}
.tag{padding:.35rem .6rem; border-radius:10px; font-weight:800; font-size:12px; border:1px solid #243041}
.tag.red{color:#fecaca; background:linear-gradient(180deg, rgba(127,29,29,.35), rgba(69,10,10,.35))}
.tag.yellow{color:#fef9c3; background:linear-gradient(180deg, rgba(113,63,18,.35), rgba(67,20,7,.35))}
.tag.green{color:#dcfce7; background:linear-gradient(180deg, rgba(22,101,52,.35), rgba(15,65,34,.35))}
.tag.purple{color:#ede9fe; background:linear-gradient(180deg, rgba(76,29,149,.35), rgba(48,19,102,.35))}
.chat{height:260px; overflow:auto; border:1px solid #1f2a37; border-radius:12px; padding:10px; background:linear-gradient(180deg, rgba(20,28,40,.7), rgba(14,20,28,.7)); margin-bottom:10px}
.chat .msg{font-size:13px; line-height:1.4; margin:6px 0}
.chat .sys{color:#93c5fd}
.chat .nick{font-weight:700}
.chat-form{display:flex; gap:8px}
.chat-form input{flex:1; padding:10px; border-radius:12px; border:1px solid #1f2a37; background:#0f1722; color:var(--text)}
.bets{margin-top:12px; border-top:1px dashed #334155; padding-top:10px}
.bets .row{display:flex; align-items:center; justify-content:space-between; font-size:13px; padding:6px 0}
.bets .row .who{color:#c7d2fe}
.bets .row .amt{font-weight:800}
footer{margin-top:18px; color:#9fb3c8; font-size:12px; line-height:1.5}
footer b{color:#ffe69b}
